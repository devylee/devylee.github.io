---
layout    : default
cover     : /assets/images/cover-tags.jpg
class     : tag-template
current   : tag
---

{%- assign tag = site.data.tags[page.tag] -%}

{%- if tag and tag.cover -%}
{% assign page_cover = tag.cover %}
{%- else -%}
{% assign page_cover = page.cover %}
{%- endif -%}

{%- comment -%} The tag above means - insert everything in this file into the [body] of the default.html template {%- endcomment -%}

{% comment %} The big featured header, it uses blog cover image as a BG if available {% endcomment %}
    <header class="site-header outer {% if page_cover %}" style="background-image: url({{page_cover | relative_url}}){% else %}no-cover{% endif %}">
        <div class="inner">
            {% include site-nav.html %}
            <div class="site-header-content">
                <h1 class="site-title">{% if tag %}{{ tag.name }}{% else %}{{ page.tag | replace : '-', ' ' }}{% endif %}</h1>
                <h2 class="site-description">
                    {%- if tag and tag.desc -%}
                        {{ tag.desc }}
                    {%- elsif page.tag -%}
                        A collection of {% if paginator.total_posts > 1%}{{ paginator.total_posts }} posts{% elsif paginator.total_posts == 1 %} 1 post{% else %} posts{% endif %}
                    {%- endif -%}
                </h2>
            </div>
        </div>
    </header>

{% comment %} The main content area {% endcomment %}
    <main id="site-main" class="site-main outer" role="main">
        <div class="inner">
            <div class="post-feed">
            {% for post in paginator.posts %}
            {% comment %} The tag below includes the markup for each post - _includes/post-card.html {% endcomment %}
                {% include post-card.html post=post %}
            {% endfor %}
            </div>
            <nav class="post-paginate" role="pagination">
                {% if paginator.previous_page %}
                    {% if paginator.previous_page == 1 %}
                        <a class="newer-posts" href="{{ '/' | relative_url }}" title="Previous Page">&laquo; Newer Posts</a>
                    {% else %}
                        <a class="newer-posts" href="{{ paginator.previous_page_path | relative_url }}" title="Previous Page">&laquo; Newer Posts</a>
                  {% endif %}
                {% endif %}
                {% if paginator.next_page %} 
                    <a class="older-posts" href="{{ paginator.next_page_path | relative_url }}" title="Next Page">Older Posts &raquo;</a>
                {% endif %} 
            </nav>
        </div>
    </main>